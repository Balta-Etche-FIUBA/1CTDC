Version 4.1
SHEET 1 3160 1976
WIRE 96 48 -32 48
WIRE 160 48 96 48
WIRE 208 48 160 48
WIRE 368 48 304 48
WIRE 448 48 368 48
WIRE 480 48 448 48
WIRE 640 48 560 48
WIRE 768 48 640 48
WIRE 1024 48 768 48
WIRE 1376 48 1024 48
WIRE 1376 80 1376 48
WIRE 288 96 240 96
WIRE -32 112 -32 48
WIRE 448 144 448 48
WIRE 640 144 640 48
WIRE 768 144 768 48
WIRE 96 160 96 48
WIRE 160 160 160 48
WIRE 400 224 352 224
WIRE -448 256 -544 256
WIRE -304 256 -384 256
WIRE -672 272 -768 272
WIRE 1024 272 1024 48
WIRE -32 320 -32 192
WIRE 96 320 96 224
WIRE 96 320 -32 320
WIRE 160 320 160 224
WIRE 160 320 96 320
WIRE 448 320 448 240
WIRE 448 320 160 320
WIRE 560 320 448 320
WIRE 640 320 640 208
WIRE 640 320 560 320
WIRE 768 320 768 208
WIRE 768 320 640 320
WIRE 1376 336 1376 160
WIRE 1408 336 1376 336
WIRE -640 352 -672 352
WIRE 560 352 560 320
WIRE 1408 352 1408 336
WIRE 1024 384 1024 352
WIRE 1104 384 1024 384
WIRE 1200 384 1104 384
WIRE -768 400 -768 272
WIRE 240 400 240 96
WIRE 352 400 352 224
WIRE -800 416 -944 416
WIRE -464 416 -464 352
WIRE 496 416 496 368
WIRE 528 416 496 416
WIRE 720 416 528 416
WIRE -672 432 -672 352
WIRE -672 432 -736 432
WIRE -640 432 -672 432
WIRE -544 432 -544 256
WIRE -544 432 -560 432
WIRE -496 432 -544 432
WIRE 1024 432 1024 384
WIRE -800 448 -864 448
WIRE -304 448 -304 256
WIRE -304 448 -432 448
WIRE -256 448 -304 448
WIRE 720 448 720 416
WIRE -496 464 -544 464
WIRE -768 496 -768 464
WIRE -464 528 -464 480
WIRE 352 560 352 480
WIRE 352 560 272 560
WIRE -864 576 -864 448
WIRE -800 576 -864 576
WIRE -672 576 -672 432
WIRE -672 576 -720 576
WIRE 720 592 720 512
WIRE 720 592 624 592
WIRE -192 608 -192 592
WIRE -32 608 -192 608
WIRE 272 608 272 560
WIRE 336 608 272 608
WIRE 528 608 528 416
WIRE 528 608 464 608
WIRE 720 608 720 592
WIRE 240 640 240 480
WIRE 336 640 240 640
WIRE 624 640 624 592
WIRE 624 640 464 640
WIRE -192 656 -192 608
WIRE -864 672 -864 576
WIRE -800 672 -864 672
WIRE -304 672 -304 448
WIRE -304 672 -720 672
WIRE -224 672 -304 672
WIRE 336 672 272 672
WIRE 640 672 464 672
WIRE -32 688 -160 688
WIRE 112 688 -32 688
WIRE 640 688 640 672
WIRE 720 688 720 672
WIRE 720 688 640 688
WIRE -224 704 -368 704
WIRE 112 704 112 688
WIRE 336 704 112 704
WIRE 528 704 464 704
WIRE 528 720 528 704
WIRE 816 720 752 720
WIRE 752 752 752 720
WIRE 752 752 640 752
WIRE -944 768 -944 416
WIRE -544 768 -544 464
WIRE -544 768 -944 768
WIRE 640 784 640 752
WIRE 640 784 80 784
WIRE 560 816 176 816
WIRE -192 832 -192 720
WIRE -1168 848 -1168 800
WIRE -1168 848 -1280 848
WIRE -1040 848 -1168 848
WIRE 560 848 560 816
WIRE 592 848 560 848
WIRE -1040 864 -1040 848
WIRE 736 864 656 864
WIRE 816 864 816 720
WIRE 816 864 736 864
WIRE 592 880 544 880
WIRE -1280 896 -1280 848
WIRE 336 896 288 896
WIRE 384 896 336 896
WIRE 544 896 544 880
WIRE 544 896 528 896
WIRE -864 912 -864 848
WIRE -944 928 -944 768
WIRE -896 928 -944 928
WIRE -544 944 -544 768
WIRE -544 944 -832 944
WIRE -1040 960 -1040 944
WIRE -896 960 -1040 960
WIRE -368 960 -368 704
WIRE 80 960 80 784
WIRE 80 960 -368 960
WIRE -1040 976 -1040 960
WIRE 336 976 336 896
WIRE 400 976 336 976
WIRE 528 976 528 896
WIRE 528 976 480 976
WIRE -864 1024 -864 976
WIRE 544 1072 544 896
WIRE 640 1072 624 1072
WIRE 736 1072 736 864
WIRE 736 1072 704 1072
WIRE -1040 1120 -1040 1056
WIRE 544 1184 544 1072
WIRE 608 1184 544 1184
WIRE 736 1184 736 1072
WIRE 736 1184 672 1184
WIRE 288 1328 288 896
WIRE 1200 1328 1200 384
WIRE 1200 1328 288 1328
FLAG 368 48 Vd
FLAG 768 48 Vo
FLAG 272 672 0
FLAG 528 720 Vcc
FLAG -1040 1120 0
FLAG -464 528 0
FLAG -864 1024 0
FLAG -192 832 0
FLAG -768 496 0
FLAG -1168 800 VCCPWM
IOPIN -1168 800 BiDir
FLAG -768 272 VCCPWM
IOPIN -768 272 BiDir
FLAG -464 352 VCCPWM
IOPIN -464 352 BiDir
FLAG -864 848 VCCPWM
IOPIN -864 848 BiDir
FLAG -640 352 Cuadrada
IOPIN -640 352 Out
FLAG -256 448 Triangular
IOPIN -256 448 Out
FLAG -192 592 VCCPWM
IOPIN -192 592 BiDir
FLAG -32 48 VCC
IOPIN -32 48 BiDir
FLAG 1024 512 0
FLAG 1104 384 VO2
FLAG 560 352 0
FLAG -1280 976 0
FLAG 624 896 VCCPWM
IOPIN 624 896 BiDir
FLAG 624 832 0
FLAG 176 896 0
FLAG 1408 352 0
FLAG 496 368 VCCPWM
IOPIN 496 368 BiDir
FLAG -672 640 0
FLAG -32 752 0
SYMBOL voltage -32 96 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 30
SYMBOL ind 464 64 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 300µ
SYMBOL cap 624 144 R0
SYMATTR InstName C1
SYMATTR Value 10µ
SYMBOL nmos 400 144 R0
SYMATTR InstName M3
SYMATTR Value IRFZ44N
SYMBOL nmos 208 96 R270
SYMATTR InstName M4
SYMATTR Value IRFZ44N
SYMBOL res 224 384 R0
SYMATTR InstName R2
SYMATTR Value 20
SYMBOL cap 144 160 R0
SYMATTR InstName C2
SYMATTR Value 470µ
SYMBOL cap 752 144 R0
SYMATTR InstName C3
SYMATTR Value 1n
SYMBOL res 336 384 R0
SYMATTR InstName R3
SYMATTR Value 20
SYMBOL diode 704 448 R0
SYMATTR InstName D1
SYMATTR Value 1N5817
SYMBOL cap 704 608 R0
SYMATTR InstName C4
SYMATTR Value 10n
SYMBOL IR2104 400 656 R0
SYMATTR InstName U1
SYMBOL cap 80 160 R0
SYMATTR InstName C5
SYMATTR Value 10µ
SYMBOL res -544 416 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 100k
SYMBOL res -1056 848 R0
SYMATTR InstName R5
SYMATTR Value 100k
SYMBOL res -1056 960 R0
SYMATTR InstName R6
SYMATTR Value 100k
SYMBOL res -704 560 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName 70k
SYMATTR Value 100k
SYMBOL res -704 656 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 47k
SYMBOL cap -384 240 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C6
SYMATTR Value 33p
SYMBOL res -688 256 R0
SYMATTR InstName R11
SYMATTR Value 1k
SYMBOL res -48 592 R0
SYMATTR InstName R12
SYMATTR Value 1k
SYMBOL OpAmps\\opamp2 -768 368 R0
SYMATTR InstName U2
SYMATTR Value LM393
SYMBOL OpAmps\\opamp2 -192 624 R0
SYMATTR InstName U3
SYMATTR Value LM393
SYMBOL res 1008 256 R0
SYMATTR InstName R9
SYMATTR Value 47k
SYMBOL res 1008 416 R0
SYMATTR InstName R10
SYMATTR Value 16.78k
SYMBOL OpAmps\\ADTL082 -464 384 R0
SYMATTR InstName U4
SYMBOL OpAmps\\ADTL082 -864 880 R0
SYMATTR InstName U5
SYMBOL voltage -1280 880 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 10
SYMBOL OpAmps\\ADTL082 624 928 M180
SYMATTR InstName U6
SYMBOL res 640 1056 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Rmil
SYMATTR Value 10k
SYMBOL voltage 176 800 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 2.5
SYMBOL res 1360 64 R0
SYMATTR InstName R1
SYMATTR Value 50
SYMBOL res 480 880 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 4.7k
SYMBOL cap 528 880 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C9
SYMATTR Value 0.1n
SYMBOL res 496 960 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value 10k
SYMBOL cap 704 1056 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C10
SYMATTR Value 100n
SYMBOL cap 672 1168 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C7
SYMATTR Value 0.1n
SYMBOL cap -688 576 R0
SYMATTR InstName C8
SYMATTR Value 1.5p
SYMBOL cap -48 688 R0
SYMATTR InstName C11
SYMATTR Value 15p
TEXT 1760 856 Left 2 !.tran 0 100m 0 100u startup
TEXT 1760 744 Left 2 !.param Rpot 100k
TEXT 1760 680 Left 2 !.inc LM393.5_1
TEXT 1760 776 Left 2 !.param R4 100k
TEXT 1760 712 Left 2 !.include LM324.mod
TEXT 2232 664 Left 2 !.options gmin=1e-11
TEXT 2232 696 Left 2 !.options abstol=1e-10
TEXT 2232 728 Left 2 !.options reltol=0.003
TEXT 2240 768 Left 2 !.options cshunt=1e-15
