Version 4
SHEET 1 3160 1976
WIRE 2512 -288 2416 -288
WIRE 2656 -288 2576 -288
WIRE 2288 -272 2192 -272
WIRE 2320 -192 2288 -192
WIRE 2192 -144 2192 -272
WIRE 2160 -128 2016 -128
WIRE 2496 -128 2496 -192
WIRE 2288 -112 2288 -192
WIRE 2288 -112 2224 -112
WIRE 2320 -112 2288 -112
WIRE 2416 -112 2416 -288
WIRE 2416 -112 2400 -112
WIRE 2464 -112 2416 -112
WIRE 2160 -96 2096 -96
WIRE 2656 -96 2656 -288
WIRE 2656 -96 2528 -96
WIRE 2704 -96 2656 -96
WIRE 2464 -80 2416 -80
WIRE 2192 -48 2192 -80
WIRE 2496 -16 2496 -64
WIRE 2096 32 2096 -96
WIRE 2160 32 2096 32
WIRE 2288 32 2288 -112
WIRE 2288 32 2240 32
WIRE 96 48 -32 48
WIRE 160 48 96 48
WIRE 208 48 160 48
WIRE 368 48 304 48
WIRE 448 48 368 48
WIRE 480 48 448 48
WIRE 640 48 560 48
WIRE 768 48 640 48
WIRE 896 48 768 48
WIRE 1024 48 896 48
WIRE 1568 64 1568 32
WIRE 2768 64 2768 48
WIRE 2864 64 2768 64
WIRE 288 96 240 96
WIRE -32 112 -32 48
WIRE 2768 112 2768 64
WIRE 1136 128 1136 112
WIRE 1200 128 1136 128
WIRE 1392 128 1392 112
WIRE 1392 128 1328 128
WIRE 2096 128 2096 32
WIRE 2160 128 2096 128
WIRE 2656 128 2656 -96
WIRE 2656 128 2240 128
WIRE 2736 128 2656 128
WIRE 448 144 448 48
WIRE 640 144 640 48
WIRE 768 144 768 48
WIRE 896 144 896 48
WIRE 2864 144 2800 144
WIRE 2928 144 2864 144
WIRE 96 160 96 48
WIRE 160 160 160 48
WIRE 1200 160 1136 160
WIRE 1392 160 1328 160
WIRE 2736 160 2656 160
WIRE 1568 176 1568 128
WIRE 1200 192 1136 192
WIRE 1392 192 1328 192
WIRE 400 224 352 224
WIRE 1200 224 1136 224
WIRE 1392 224 1328 224
WIRE 1568 224 1568 176
WIRE 2016 224 2016 -128
WIRE 2416 224 2416 -80
WIRE 2416 224 2016 224
WIRE 1136 240 1136 224
WIRE 1392 240 1392 224
WIRE 1024 272 1024 48
WIRE 2768 288 2768 176
WIRE 1568 304 1568 288
WIRE 1568 304 1536 304
WIRE 1792 304 1792 256
WIRE 1920 304 1792 304
WIRE -32 320 -32 192
WIRE 96 320 96 224
WIRE 96 320 -32 320
WIRE 160 320 160 224
WIRE 160 320 96 320
WIRE 448 320 448 240
WIRE 448 320 160 320
WIRE 640 320 640 208
WIRE 640 320 448 320
WIRE 768 320 768 208
WIRE 768 320 640 320
WIRE 896 320 896 224
WIRE 896 320 768 320
WIRE 1920 320 1920 304
WIRE 2096 368 2096 304
WIRE 1024 384 1024 352
WIRE 1104 384 1024 384
WIRE 2016 384 2016 224
WIRE 2064 384 2016 384
WIRE 240 400 240 96
WIRE 352 400 352 224
WIRE 2416 400 2416 224
WIRE 2416 400 2128 400
WIRE 1920 416 1920 400
WIRE 2064 416 1920 416
WIRE 1024 432 1024 384
WIRE 1920 432 1920 416
WIRE 2096 480 2096 432
WIRE 240 528 240 480
WIRE 288 528 240 528
WIRE 352 528 352 480
WIRE 416 528 352 528
WIRE 1920 576 1920 512
WIRE 1120 832 1008 832
WIRE 1280 832 1200 832
WIRE 1344 832 1280 832
WIRE 1504 832 1424 832
WIRE 1376 992 1376 960
WIRE 1280 1008 1280 832
WIRE 1344 1008 1280 1008
WIRE 1504 1024 1504 832
WIRE 1504 1024 1408 1024
WIRE 1344 1040 1280 1040
WIRE 1376 1088 1376 1056
WIRE 1152 1168 1008 1168
WIRE 1280 1168 1280 1040
WIRE 1280 1168 1232 1168
WIRE 1312 1168 1280 1168
WIRE 1472 1168 1392 1168
WIRE 1008 1200 1008 1168
WIRE 1472 1216 1472 1168
FLAG 640 320 0
FLAG 368 48 Vd
FLAG 768 48 Vo
FLAG 1136 192 0
FLAG 1136 112 Vlo
FLAG 1392 112 Vcc
FLAG 1136 160 Vho
FLAG 288 528 Vlo
FLAG 1568 32 Vcc
FLAG 1536 304 Vd
FLAG 1392 160 Vb
FLAG 1568 176 Vb
FLAG 1392 192 Vd
FLAG 1392 240 Vcc
FLAG 1920 576 0
FLAG 2496 -16 0
FLAG 2096 480 0
FLAG 2768 288 0
FLAG 2192 -48 0
FLAG 1792 256 VCC
IOPIN 1792 256 BiDir
FLAG 2192 -272 VCC
IOPIN 2192 -272 BiDir
FLAG 2496 -192 VCC
IOPIN 2496 -192 BiDir
FLAG 2096 304 VCC
IOPIN 2096 304 BiDir
FLAG 2320 -192 Cuadrada
IOPIN 2320 -192 Out
FLAG 2704 -96 Triangular
IOPIN 2704 -96 Out
FLAG 2768 48 Vcc
IOPIN 2768 48 BiDir
FLAG 2928 144 Vg
IOPIN 2928 144 Out
FLAG 2864 208 0
FLAG 2288 96 0
FLAG 1136 240 Vg
IOPIN 1136 240 Out
FLAG 416 528 Vho
FLAG -32 48 VCC
IOPIN -32 48 BiDir
FLAG 1472 1216 0
FLAG 1008 1280 0
FLAG 1376 1088 0
FLAG 1376 960 VCC
IOPIN 1376 960 BiDir
FLAG 2656 160 Error
IOPIN 2656 160 BiDir
FLAG 1504 1024 Error
IOPIN 1504 1024 BiDir
FLAG 1008 1168 Vref
IOPIN 1008 1168 In
FLAG 1024 512 0
FLAG 1008 832 VO2
FLAG 1104 384 VO2
SYMBOL voltage -32 96 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 12
SYMBOL ind 464 64 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 300µ
SYMBOL cap 624 144 R0
SYMATTR InstName C1
SYMATTR Value 10µ
SYMBOL res 880 128 R0
SYMATTR InstName R1
SYMATTR Value 95
SYMBOL nmos 400 144 R0
SYMATTR InstName M3
SYMATTR Value IRFZ44N
SYMBOL nmos 208 96 R270
SYMATTR InstName M4
SYMATTR Value IRFZ44N
SYMBOL res 224 384 R0
SYMATTR InstName R2
SYMATTR Value 10
SYMBOL cap 144 160 R0
SYMATTR InstName C2
SYMATTR Value 470µ
SYMBOL cap 752 144 R0
SYMATTR InstName C3
SYMATTR Value 1n
SYMBOL res 336 384 R0
SYMATTR InstName R3
SYMATTR Value 10
SYMBOL diode 1552 64 R0
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL cap 1552 224 R0
SYMATTR InstName C4
SYMATTR Value 10n
SYMBOL IR2104 1264 176 R0
SYMATTR InstName U1
SYMBOL cap 80 160 R0
SYMATTR InstName C5
SYMATTR Value 10µ
SYMBOL res 2416 -128 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value {R4}
SYMBOL res 1904 304 R0
SYMATTR InstName R5
SYMATTR Value 100k
SYMBOL res 1904 416 R0
SYMATTR InstName R6
SYMATTR Value 100k
SYMBOL res 2256 16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 100k
SYMBOL res 2256 112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 47k
SYMBOL cap 2576 -304 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C6
SYMATTR Value 33p
SYMBOL res 2272 -288 R0
SYMATTR InstName R11
SYMATTR Value 1k
SYMBOL res 2848 48 R0
SYMATTR InstName R12
SYMATTR Value 1k
SYMBOL cap 2848 144 R0
SYMATTR InstName C7
SYMATTR Value 15p
SYMBOL cap 2272 32 R0
SYMATTR InstName C8
SYMATTR Value 1.8p
SYMBOL OpAmps\\opamp2 2192 -176 R0
SYMATTR InstName U2
SYMATTR Value LM393
SYMBOL OpAmps\\opamp2 2768 80 R0
SYMATTR InstName U3
SYMATTR Value LM393
SYMBOL TL072 2096 336 R0
SYMATTR InstName U4
SYMBOL TL072 2496 -160 R0
SYMATTR InstName U5
SYMBOL TL072 1376 960 R0
SYMATTR InstName U6
SYMBOL res 1216 816 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value 12k
SYMBOL res 1440 816 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R14
SYMATTR Value 6k
SYMBOL res 1248 1152 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R15
SYMATTR Value 12k
SYMBOL res 1408 1152 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R16
SYMATTR Value 6k
SYMBOL voltage 1008 1184 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName Vref
SYMATTR Value 4.75
SYMBOL res 1008 256 R0
SYMATTR InstName R9
SYMATTR Value 10K
SYMBOL res 1008 416 R0
SYMATTR InstName R10
SYMATTR Value 10K
TEXT 1760 856 Left 2 !.tran 0 15m startup
TEXT 1760 744 Left 2 !.param Rpot 100k
TEXT 1760 680 Left 2 !.inc LM393.5_1
TEXT 1760 808 Left 2 !;step param R4 50k 150k 25k
TEXT 1760 776 Left 2 !.param R4 100k
TEXT 1760 712 Left 2 !.include LM324.mod
TEXT 2232 664 Left 2 !.options gmin=1e-10
TEXT 2232 696 Left 2 !.options abstol=1e-10
TEXT 2232 728 Left 2 !.options reltol=0.003
TEXT 2232 760 Left 2 !.options cshunt=1e-15
