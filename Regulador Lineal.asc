Version 4
SHEET 1 2316 816
WIRE 96 -32 -240 -32
WIRE 320 -32 96 -32
WIRE 448 -32 320 -32
WIRE 640 -32 544 -32
WIRE 704 -32 640 -32
WIRE 800 -32 704 -32
WIRE 960 -32 880 -32
WIRE 1168 -32 960 -32
WIRE 1360 -32 1168 -32
WIRE 1520 -32 1360 -32
WIRE 704 80 704 -32
WIRE 1168 80 1168 -32
WIRE 208 96 160 96
WIRE 256 96 208 96
WIRE 496 128 496 32
WIRE 640 128 640 -32
WIRE 640 128 592 128
WIRE -240 176 -240 -32
WIRE 96 176 96 144
WIRE 208 176 208 96
WIRE 208 176 96 176
WIRE 320 224 320 144
WIRE 544 224 544 192
WIRE 544 224 320 224
WIRE 1168 224 1168 160
WIRE 704 240 704 160
WIRE 848 240 704 240
WIRE 96 256 96 176
WIRE 320 256 320 224
WIRE 1360 256 1360 -32
WIRE 1520 256 1520 -32
WIRE 32 304 -32 304
WIRE 1168 304 1168 224
WIRE 1168 304 400 304
WIRE 704 336 704 240
WIRE 1168 336 1168 304
WIRE -32 352 -32 304
WIRE 96 384 96 352
WIRE 208 384 96 384
WIRE 320 384 320 352
WIRE 320 384 208 384
WIRE 208 416 208 384
WIRE 704 448 704 416
WIRE 704 464 704 448
WIRE 848 464 848 240
WIRE -240 528 -240 256
WIRE -32 528 -32 432
WIRE -32 528 -240 528
WIRE 208 528 208 496
WIRE 208 528 -32 528
WIRE 544 528 544 224
WIRE 800 528 544 528
WIRE 960 528 960 -32
WIRE 960 528 896 528
WIRE 1168 528 1168 416
WIRE 1360 528 1360 336
WIRE 1360 528 1168 528
WIRE 1520 528 1520 320
WIRE 1520 528 1360 528
WIRE 1360 544 1360 528
FLAG 208 528 0
FLAG 1360 -32 Vo
FLAG -32 304 Vref
FLAG -240 -32 VIN
FLAG 704 448 0
FLAG 1360 544 0
FLAG 1168 224 VB4
FLAG 384 304 VB4
SYMBOL pnp 160 144 R180
SYMATTR InstName Q1
SYMATTR Value BC557C
SYMBOL pnp 256 144 M180
SYMATTR InstName Q2
SYMATTR Value BC557C
SYMBOL npn 32 256 R0
SYMATTR InstName Q3
SYMATTR Value BC547C
SYMBOL npn 384 256 M0
SYMATTR InstName Q4
SYMATTR Value BC547C
SYMBOL pnp 544 32 M270
SYMATTR InstName Q5
SYMATTR Value D45H11
SYMBOL npn 496 192 R270
SYMATTR InstName Q6
SYMATTR Value 2N3019
SYMBOL res 1344 240 R0
SYMATTR InstName RL
SYMATTR Value {RL}
SYMBOL voltage -32 336 R0
WINDOW 123 24 124 Left 2
WINDOW 39 0 0 Left 0
SYMATTR Value2 AC 1
SYMATTR InstName V1
SYMATTR Value 2.5
SYMBOL voltage -240 160 R0
WINDOW 123 24 124 Left 2
WINDOW 39 0 0 Left 0
SYMATTR Value2 AC {VINAC}
SYMATTR InstName VIN
SYMATTR Value {VINDC}
SYMBOL res 80 -48 R0
SYMATTR InstName R8
SYMATTR Value 10
SYMBOL res 304 -48 R0
SYMATTR InstName R9
SYMATTR Value 10
SYMBOL cap 1504 256 R0
SYMATTR InstName C3
SYMATTR Value 1µ
SYMBOL res 688 64 R0
SYMATTR InstName R3
SYMATTR Value 1k
SYMBOL res 688 320 R0
SYMATTR InstName R2
SYMATTR Value 114k
SYMBOL res 896 -48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 0.5
SYMBOL npn 800 464 M90
SYMATTR InstName Q7
SYMBOL res 1152 64 R0
SYMATTR InstName R5
SYMATTR Value 5k
SYMBOL res 1152 320 R0
SYMATTR InstName R6
SYMATTR Value 5k
SYMBOL res 192 400 R0
SYMATTR InstName R1
SYMATTR Value 500
TEXT -232 560 Left 2 !.op
TEXT -240 704 Left 2 !;dc VIN 12 30
TEXT 1656 -24 Left 2 ;Mido regulacion de linea
TEXT 1656 16 Left 2 !.meas DC Vo1rl FIND V(Vo) AT=12
TEXT 1656 40 Left 2 !.meas DC Vo2rl FIND V(Vo) AT=30
TEXT 1656 64 Left 2 !.meas DC RegLin PARAM ((Vo2rl-Vo1rl)/12)
TEXT 1656 120 Left 2 ;Mido regulacion de carga
TEXT 1656 160 Left 2 !.meas OP Vo1rc FIND V(Vo) AT 100
TEXT 1656 184 Left 2 !.meas OP Vo2rc FIND V(Vo) AT 5
TEXT 1656 208 Left 2 !.meas OP Io1rc FIND I(RL) AT 100
TEXT 1656 232 Left 2 !.meas OP Io2rc FIND I(RL) AT 5
TEXT 1664 296 Left 2 ;Mido eficiencia
TEXT 1664 336 Left 2 ;-100*((V(vo)*I(RL))/(V(VIN)*I(VIN)))
TEXT -240 616 Left 2 !.param VINDC 30
TEXT -240 656 Left 2 !.param VINAC 1
TEXT 88 616 Left 2 !.param VREFDC=1
TEXT 88 648 Left 2 !.param VREFAC 0
TEXT 424 608 Left 2 !;param RL=5
TEXT 416 648 Left 2 !.step param RL 1000 1 1
TEXT 1656 256 Left 2 !.meas OP RegCar PARAM (-(Vo2rc-Vo1rc)/(Io2rc-Io1rc))
